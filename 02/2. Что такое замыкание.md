# Замыкание (closure)

**Замыкание** — это функция, которая **запоминает** переменные из внешней области видимости и может использовать их даже после того, как внешняя функция уже завершила выполнение.

---

## Как это работает?

- Когда функция создаётся, она получает доступ не только к своим локальным переменным, но и к переменным из всех внешних областей видимости (scope chain).
    
- Если мы возвращаем внутреннюю функцию наружу, она **замыкает** в себе эти переменные, и они продолжают жить.
    

---

## Простой пример

```js
function outer() {
  let count = 0;

  function inner() {
    count++;
    return count;
  }

  return inner;
}

const counter = outer();

console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3
```

✅ Переменная `count` не уничтожается после завершения `outer()`, потому что её «замкнула» функция `inner`.

---

## Где это полезно?

1. **Инкапсуляция и приватные данные**
    
    ```js
    function createUser(name) {
      return {
        getName: () => name,
        setName: newName => name = newName
      };
    }
    
    const user = createUser("Oleg");
    console.log(user.getName()); // Oleg
    user.setName("Sanya");
    console.log(user.getName()); // Sanya
    ```
    
2. **Функции-генераторы**
    
    ```js
    function makeMultiplier(x) {
      return function(y) {
        return x * y;
      };
    }
    
    const double = makeMultiplier(2);
    console.log(double(5)); // 10
    ```
    
3. **Обработчики событий**
    
    ```js
    function setupButton() {
      let clicks = 0;
      document.querySelector("button").addEventListener("click", () => {
        clicks++;
        console.log("Нажато:", clicks);
      });
    }
    setupButton();
    ```
    

---

## Вопросы на собесе про замыкания

- Что такое замыкание простыми словами?
    
- Приведи пример использования замыкания.
    
- Почему переменные из внешней функции не уничтожаются?
    
- Какие есть практические применения замыканий?