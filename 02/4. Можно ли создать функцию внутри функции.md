# Функции внутри функций

## 1. Пример

```js
function outer() {
  console.log("Внешняя функция");

  function inner() {
    console.log("Внутренняя функция");
  }

  inner(); // вызов вложенной функции
}

outer();
// Внешняя функция
// Внутренняя функция
```

---

## 2. Особенности

1. **Область видимости**
    
    - Вложенная функция имеет доступ к переменным внешней функции (лексическая область видимости).
        
    - Внешняя функция не имеет доступа к переменным внутренней.
        

```js
function outer() {
  let x = 10;

  function inner() {
    console.log(x); // доступна переменная из outer
  }

  inner();
}
outer();
```

---

2. **Замыкания**
    
    - Если внутренняя функция возвращается наружу, она образует замыкание — «захватывает» переменные внешней функции.
        

```js
function makeCounter() {
  let count = 0;

  return function() {
    count++;
    return count;
  };
}

const counter = makeCounter();

console.log(counter()); // 1
console.log(counter()); // 2
```

---

3. **Инкапсуляция (приватные функции)**
    
    - Вложенные функции часто используют как «приватные», т.е. недоступные снаружи.
        

```js
function calculator(a, b) {
  function add() {
    return a + b;
  }
  function multiply() {
    return a * b;
  }

  return {
    sum: add(),
    product: multiply()
  };
}

console.log(calculator(2, 3)); // { sum: 5, product: 6 }
```

---

## В собес-формате

**Вопрос:** Можно ли создать функцию внутри функции?  
**Ответ:** Да. Это называется вложенная функция. Она имеет доступ к переменным внешней функции благодаря лексической области видимости. Такие функции удобно использовать для инкапсуляции логики и создания замыканий.
